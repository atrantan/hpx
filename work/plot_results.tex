\documentclass[svgnames]{beamer}
\usepackage{listings}
\usepackage[utf8x]{inputenc}
\usepackage{color}
\usepackage{xcolor}
\usepackage[frenchb,english]{babel}
\usepackage{standalone}
\usepackage{tikz}
\usepackage{pgfplots}

\pgfplotsset{compat=1.11}

\definecolor{metared}{rgb}{0.64,0.13,0.11}
\definecolor{hlcolor}{rgb}{0.88,0.88,0.88}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{ %
  language=C++,                % the language of the code
  basicstyle=\ttfamily\tiny,           % the size of the fonts that are used for the code
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=none,                     % adds a frame around the code
  tabsize=2,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  xleftmargin=\fboxsep,
  xrightmargin=-\fboxsep,
  firstnumber=1,
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
  keywordstyle=\color{blue},          % keyword style
  commentstyle=\color{dkgreen},       % comment style
  % stringstyle=\color{mauve},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add a comment within your code
  morekeywords={*,...},               % if you want to add more keywords to the set
  escapechar={@},
  aboveskip=0bp,
  belowskip=0bp
}

\title{Extending C++ with Co-Array semantics}
\author{Antoine Tran Tan \and Hartmut Kaiser}
\institute{Louisiana State University\\Center for Computation and Technology - Stellar Group}
\date{\footnotesize{May 2016}}

\begin{document}

%=============================================
\begin{frame}
\titlepage
\end{frame}
% %=============================================
\begin{frame}
\frametitle{Matrix Transpose - Performance evaluation}
\begin{center}
\begin{tikzpicture}[scale = 0.8]
\pgfplotsset{grid style={thick,dashed,gray}}
\pgfplotsset{minor grid style={dotted,gray}}
\begin{axis}[xlabel=\footnotesize Number of cores,
             ylabel=\footnotesize Performance in GB/s,
             grid=both,
             minor tick num=1,
             ymin=0,
             % ymax = 10,
             xmin = 0,
             legend pos=north west,
             legend style={at={(1.02,1)}}]
  \addplot[color=black]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose/pvector_view_transpose_matrix_order=10000_partition_order=500_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - MPI  (order=10000, tile order=500)}}
  \addplot[color=blue]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose/pvector_view_transpose_matrix_order=14000_partition_order=700_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - MPI (order=14000, tile order=700)}}
  \addplot[color=red]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose/pvector_view_transpose_matrix_order=18000_partition_order=900_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - MPI (order=18000, tile order=900)}}
  \addplot[color=dkgreen]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose/pvector_view_transpose_matrix_order=22000_partition_order=1100_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - MPI (order=22000, tile order=1100)}}
  \addplot[color=black]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose_with_tasks/pvector_view_transpose_with_tasks_matrix_order=10000_partition_order=500_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - tasks (order=10000, tile order=500)}}
  \addplot[color=blue]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose_with_tasks/pvector_view_transpose_with_tasks_matrix_order=14000_partition_order=700_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - tasks (order=14000, tile order=700)}}
  \addplot[color=red]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose_with_tasks/pvector_view_transpose_with_tasks_matrix_order=18000_partition_order=900_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - tasks (order=18000, tile order=900)}}
  \addplot[color=dkgreen]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_transpose_with_tasks/pvector_view_transpose_with_tasks_matrix_order=22000_partition_order=1100_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray - tasks (order=22000, tile order=1100)}}
  % \addplot[color=black]
  % plot[thick,mark=diamond*,mark size=1.5pt] file
  % {perfs/stream/stream_scale_over_ncores.dat};
  % \addlegendentry{\tiny{Available Bandwidth}}
\end{axis}
\end{tikzpicture}
\end{center}
\end{frame}
%=============================================
\begin{frame}
\frametitle{Sparse Matrix Vector Multiplication - Performance evaluation in GFlop/s}
\begin{center}
\begin{tikzpicture}[scale = 0.8]
\pgfplotsset{grid style={thick,dashed,gray}}
\pgfplotsset{minor grid style={dotted,gray}}
\begin{axis}[xlabel=\footnotesize Number of cores,
             ylabel=\footnotesize Performance in GFlop/s,
             grid=both,
             minor tick num=1,
             ymin=0,
             xmin = 0,
             legend pos=north west,
             legend style={at={(1.02,1)}}]
  \addplot[color=blue]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv/pvector_view_spmv_problem=s3dkt3m2_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv/pvector_view_spmv_problem=memplus_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray (problem : memplus)}}
  \addplot[color=blue]
  plot[dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv_with_tasks/pvector_view_spmv_with_tasks_problem=s3dkt3m2_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray + tasks (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv_with_tasks/pvector_view_spmv_with_tasks_problem=memplus_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray + tasks (problem : memplus)}}
  \addplot[color=blue]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/hpx_threaded_spmv/hpx_threaded_spmv_problem=s3dkt3m2_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX parallel for\_each (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/hpx_threaded_spmv/hpx_threaded_spmv_problem=memplus_unit=GFlops_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX parallel for\_each (problem : memplus)}}
\end{axis}
\end{tikzpicture}
\end{center}
\end{frame}
%=============================================
\begin{frame}
\frametitle{Sparse Matrix Vector Multiplication - Performance evaluation in GB/s}
\begin{center}
\begin{tikzpicture}[scale = 0.8]
\pgfplotsset{grid style={thick,dashed,gray}}
\pgfplotsset{minor grid style={dotted,gray}}
\begin{axis}[xlabel=\footnotesize Number of cores,
             ylabel=\footnotesize Performance in GB/s,
             grid=both,
             minor tick num=1,
             ymin=0,
             xmin = 0,
             legend pos=north west,
             legend style={at={(1.02,1)}}]
  \addplot[color=blue]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv/pvector_view_spmv_problem=s3dkt3m2_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[smooth,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv/pvector_view_spmv_problem=memplus_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray (problem : memplus)}}
  \addplot[color=blue]
  plot[dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv_with_tasks/pvector_view_spmv_with_tasks_problem=s3dkt3m2_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray + tasks (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/pvector_view_spmv_with_tasks/pvector_view_spmv_with_tasks_problem=memplus_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX coarray + tasks (problem : memplus)}}
  \addplot[color=blue]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/hpx_threaded_spmv/hpx_threaded_spmv_problem=s3dkt3m2_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX parallel for\_each (problem : s3dkt3m2)}}
  \addplot[color=red]
  plot[densely dotted,mark=diamond*,mark size=1.5pt] file
  {perfs/hpx_threaded_spmv/hpx_threaded_spmv_problem=memplus_unit=GBs_scale_over_ncores.dat};
  \addlegendentry{\tiny{HPX parallel for\_each (problem : memplus)}}
  \addplot[color=black]
  plot[thick,mark=diamond*,mark size=1.5pt] file
  {perfs/stream/stream_scale_over_ncores.dat};
  \addlegendentry{\tiny{Available Bandwidth}}
\end{axis}
\end{tikzpicture}
\end{center}
\end{frame}
\end{document}
